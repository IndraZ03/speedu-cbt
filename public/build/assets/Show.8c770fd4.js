import{L as g}from"./Layout.eab09853.js";import{L as T,H as S,j as w,c as e,a as c,w as b,b as n,d as f,k as x,t as l,e as u,F as B,l as p,v as P,h as D,f as k,o as s,g as K}from"./app.5a3a2595.js";import{S as N}from"./sweetalert2.esm.all.36649896.js";import{_ as L}from"./_plugin-vue_export-helper.cdc0426e.js";const V={layout:g,components:{Link:T,Head:S},props:{accountBalance:Object,payment_confirmation:Object},setup(o){const t=w({transaction_status:o.accountBalance.transaction_status});return{form:t,submit:()=>{D.Inertia.put(`/admin/account-balances/${o.accountBalance.id}`,{transaction_status:t.transaction_status},{onSuccess:()=>{N.fire({title:"Success!",text:"Transaksi Berhasil Diupdate!.",icon:"success",showConfirmButton:!1,timer:1e3})}})}}},methods:{formatPrice(o){return"Rp."+(o/1).toFixed().replace(".",",").toString().replace(/\B(?=(\d{3})+(?!\d))/g,".")}}},_={class:"page-wrapper"},j={class:"page-content"},A={class:"card border-top border-0 border-3 border-primary"},C={class:"card-body"},F={class:"d-lg-flex align-items-center"},H={class:"ms-auto"},M={class:"table-responsive"},O={class:"table mb-0"},U={key:0},E={key:1},R={key:2},G={key:0,class:"fw-bold"},I={key:1,class:"fw-bold"},J={key:2,class:"fw-bold"},W={key:3,class:"fw-bold"},q={key:4,class:"fw-bold"},z=["src"],Q={key:1},X={key:2},Y={key:3};function Z(o,t,a,r,h,d){var m;const y=k("Head"),v=k("Link");return s(),e(B,null,[c(y,null,{default:b(()=>{var i;return[n("title",null,l((i=o.$page.props.setting.app_name)!=null?i:"Atur Setting Terlebih Dahulu")+" - Detail Transaksi",1)]}),_:1}),n("div",_,[n("div",j,[t[46]||(t[46]=f('<div class="page-breadcrumb d-none d-sm-flex align-items-center mb-3"><div class="breadcrumb-title pe-3">Transaksi</div><div class="ps-3"><nav aria-label="breadcrumb"><ol class="breadcrumb mb-0 p-0"><li class="breadcrumb-item"><a href="javascript:;"><i class="bx bx-home-alt"></i></a></li><li class="breadcrumb-item active" aria-current="page">Detail Transaksi</li></ol></nav></div></div>',1)),n("div",A,[n("div",C,[n("div",F,[n("div",H,[c(v,{href:"/admin/account-balances",class:"btn btn-primary btn-sm mt-2 mt-lg-0"},{default:b(()=>t[2]||(t[2]=[K("Kembali ")])),_:1})])]),n("div",M,[n("form",{onSubmit:t[1]||(t[1]=x((...i)=>r.submit&&r.submit(...i),["prevent"]))},[n("table",O,[n("tbody",null,[t[44]||(t[44]=n("tr",null,[n("th",{colspan:"3"},"Biodata")],-1)),n("tr",null,[t[3]||(t[3]=n("td",{width:"300px"},"Nama Lengkap",-1)),t[4]||(t[4]=n("td",{width:"20px"},":",-1)),n("td",null,l(a.accountBalance.user.name),1)]),n("tr",null,[t[5]||(t[5]=n("td",null,"Email",-1)),t[6]||(t[6]=n("td",null,":",-1)),n("td",null,l((m=a.accountBalance.user.email)!=null?m:"-"),1)]),n("tr",null,[t[7]||(t[7]=n("td",null,"Provinsi",-1)),t[8]||(t[8]=n("td",null,":",-1)),n("td",null,l(a.accountBalance.user&&a.accountBalance.user.student&&a.accountBalance.user.student.province?a.accountBalance.user.student.province.name:"-"),1)]),n("tr",null,[t[9]||(t[9]=n("td",null,"Kota/Kab",-1)),t[10]||(t[10]=n("td",null,":",-1)),n("td",null,l(a.accountBalance.user&&a.accountBalance.user.student&&a.accountBalance.user.student.city?a.accountBalance.user.student.city.name:"-"),1)]),n("tr",null,[t[11]||(t[11]=n("td",null,"Kecamatan",-1)),t[12]||(t[12]=n("td",null,":",-1)),n("td",null,l(a.accountBalance.user&&a.accountBalance.user.student&&a.accountBalance.user.student.district?a.accountBalance.user.student.district.name:"-"),1)]),n("tr",null,[t[13]||(t[13]=n("td",null,"Desa/Kelurahan",-1)),t[14]||(t[14]=n("td",null,":",-1)),n("td",null,l(a.accountBalance.user&&a.accountBalance.user.student&&a.accountBalance.user.student.village?a.accountBalance.user.student.village.name:"-"),1)]),n("tr",null,[t[15]||(t[15]=n("td",null,"Nomor Telepon (Whatsapp)",-1)),t[16]||(t[16]=n("td",null,":",-1)),n("td",null,l(a.accountBalance.user&&a.accountBalance.user.student&&a.accountBalance.user.student.phone_number?a.accountBalance.user.student.phone_number:"-"),1)]),t[45]||(t[45]=n("tr",null,[n("th",{colspan:"3"},"Detail Transaksi")],-1)),n("tr",null,[t[17]||(t[17]=n("td",null,"Kode Transaksi",-1)),t[18]||(t[18]=n("td",null,":",-1)),n("td",null,l(a.accountBalance.code),1)]),n("tr",null,[t[19]||(t[19]=n("td",null,"Tanggal Transaksi",-1)),t[20]||(t[20]=n("td",null,":",-1)),n("td",null,l(a.accountBalance.created_at),1)]),n("tr",null,[t[21]||(t[21]=n("td",null,"Total Top Up",-1)),t[22]||(t[22]=n("td",null,":",-1)),n("td",null,l(d.formatPrice(a.accountBalance.top_up_balance)),1)]),n("tr",null,[t[23]||(t[23]=n("td",null,"Metode Pembayaran",-1)),t[24]||(t[24]=n("td",null,":",-1)),n("td",null,[a.accountBalance.payment_method=="account_balance"?(s(),e("span",U,"Saldo Akun")):u("",!0),a.accountBalance.payment_method=="manual_transfer"?(s(),e("span",E,"Transfer Manual (Konfirmasi Pembayaran)")):u("",!0),a.accountBalance.payment_method=="automatic_transfer_midtrans"?(s(),e("span",R,"Transfer Otomatis")):u("",!0)])]),n("tr",null,[t[25]||(t[25]=n("td",null,"Status Transaksi",-1)),t[26]||(t[26]=n("td",null,":",-1)),n("td",null,[a.accountBalance.transaction_status=="pending"?(s(),e("span",G,"Pending - Belum melakukan pembayaran")):u("",!0),a.accountBalance.transaction_status=="paid"?(s(),e("span",I,"Telah melakukan pembayaran")):u("",!0),a.accountBalance.transaction_status=="failed"?(s(),e("span",J,"Transaksi Gagal")):u("",!0),a.accountBalance.transaction_status=="done"?(s(),e("span",W,"Transaksi Selesai")):u("",!0),a.accountBalance.transaction_status=="expired"?(s(),e("span",q,"Transaksi Kadaluarsa")):u("",!0)])]),a.accountBalance.payment_method=="manual_transfer"&&a.payment_confirmation?(s(),e(B,{key:0},[t[37]||(t[37]=n("tr",null,[n("th",{colspan:"3"},"Data Konfirmasi Pembayaran")],-1)),n("tr",null,[t[27]||(t[27]=n("td",null,"Nama Pengirim Transfer",-1)),t[28]||(t[28]=n("td",null,":",-1)),n("td",null,l(a.payment_confirmation.rekening_name),1)]),n("tr",null,[t[29]||(t[29]=n("td",null,"Di Transfer Ke Rekening",-1)),t[30]||(t[30]=n("td",null,":",-1)),n("td",null,l(a.payment_confirmation.bank.bank_name+" - "+a.payment_confirmation.bank.rekening_number+" - "+a.payment_confirmation.bank.rekening_name),1)]),n("tr",null,[t[31]||(t[31]=n("td",null,"Tanggal Transfer",-1)),t[32]||(t[32]=n("td",null,":",-1)),n("td",null,l(a.payment_confirmation.transfer_date),1)]),n("tr",null,[t[33]||(t[33]=n("td",null,"Jumlah Transfer",-1)),t[34]||(t[34]=n("td",null,":",-1)),n("td",null,l(d.formatPrice(a.payment_confirmation.total_payment)),1)]),n("tr",null,[t[35]||(t[35]=n("td",null,"Bukti Transfer",-1)),t[36]||(t[36]=n("td",null,":",-1)),n("img",{src:"/storage/upload_files/payment_confirmation/"+a.payment_confirmation.file,style:{width:"300px"}},null,8,z)]),t[38]||(t[38]=n("tr",null,[n("th",{colspan:"3"},"\xA0")],-1))],64)):u("",!0),a.accountBalance.transaction_status!="done"?(s(),e("tr",Q,t[39]||(t[39]=[n("th",{colspan:"3"},"Action",-1)]))):u("",!0),a.accountBalance.transaction_status!="done"?(s(),e("tr",X,[t[41]||(t[41]=n("td",null,"Ubah Status Transaksi",-1)),t[42]||(t[42]=n("td",null,":",-1)),n("td",null,[p(n("select",{class:"form-control","onUpdate:modelValue":t[0]||(t[0]=i=>r.form.transaction_status=i)},t[40]||(t[40]=[f('<option value="">[ Pilih Status Transaksi ]</option><option value="pending">Pending</option><option value="paid">Paid</option><option value="done">Done</option><option value="failed">Failed</option>',5)]),512),[[P,r.form.transaction_status]])])])):u("",!0),a.accountBalance.transaction_status!="done"?(s(),e("tr",Y,t[43]||(t[43]=[n("td",{colspan:"3"},[n("button",{type:"submit",class:"btn btn-primary btn-sm px-5"},"Submit")],-1)]))):u("",!0)])])],32)])])])])])],64)}const lt=L(V,[["render",Z]]);export{lt as default};
