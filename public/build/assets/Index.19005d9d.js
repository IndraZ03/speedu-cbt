import{L as B}from"./Layout.eab09853.js";import{p as q,e as C,t as I}from"./index.es.9e4ba355.js";import{P as A}from"./Pagination.cc3eb99b.js";import{L as J,H as D,j as P,z as Q,c as i,a as _,w as x,b as t,d as H,k as p,t as d,e as a,g as c,l as L,v as j,m as K,F as M,r as E,h as g,f as y,o,n as h}from"./app.5a3a2595.js";import{S as b}from"./sweetalert2.esm.all.36649896.js";import{w as N}from"./wrapLatex.6db58403.js";import{_ as V}from"./_plugin-vue_export-helper.cdc0426e.js";const F={layout:B,components:{Link:J,Head:D,Pagination:A,MathJax:q},props:{questions:Object,questionTitle:Object},mounted(){let l=document.createElement("script");l.setAttribute("src","https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"),document.head.appendChild(l);function e(){const s=document.getElementById("elementId");I(s)}C({},e),this.$nextTick(()=>{window.MathJax&&window.MathJax.Hub&&window.MathJax.Hub.Queue(["Typeset",window.MathJax.Hub])})},setup(l){const e=P({type:"number",file:""}),s=()=>{b.fire({title:"Pastikan Format File Sesuai",text:"Jika format tidak sesuai maka seluruh soal tidak akan berhasil di import.",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Import"}).then(u=>{u.isConfirmed&&g.Inertia.post(`/admin/question-titles/${l.questionTitle.id}/import-excel`,{forceFormData:!0,file:e.file})})},r=()=>{g.Inertia.post(`/admin/question-titles/${l.questionTitle.id}/questions/generate-question`,{type:e.type},{onSuccess:()=>{b.fire({title:"Success!",text:"Soal Berhasil Di Generate!.",icon:"success",showConfirmButton:!1,timer:2e3})}})},T=Q(new URL(document.location).searchParams.get("search"));return{search:T,form:e,handleSearch:()=>{g.Inertia.get(`/admin/question-titles/${l.questionTitle.id}/questions`,{search:T.value})},destroy:u=>{b.fire({title:"Apakah Anda yakin?",text:"Anda tidak akan dapat mengembalikan ini!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Hapus"}).then(m=>{m.isConfirmed&&(g.Inertia.delete(`/admin/question-titles/${l.questionTitle.id}/questions/${u}`),b.fire({title:"Deleted!",text:"Soal Berhasil Dihapus!.",icon:"success",timer:1e3,showConfirmButton:!1}))})},generateQuestion:r,destroyQuestionTitle:u=>{b.fire({title:"Apakah Anda yakin?",text:"Anda tidak akan dapat mengembalikan ini!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Hapus"}).then(m=>{m.isConfirmed&&(g.Inertia.delete(`/admin/question-titles/${u}`),b.fire({title:"Deleted!",text:"Judul Soal Berhasil Dihapus!.",icon:"success",timer:1e3,showConfirmButton:!1}))})},importExcel:s,destroyAllQuestion:u=>{b.fire({title:"Apakah anda yakin akan menghapus seluruh soal ?",text:"Anda tidak akan dapat mengembalikan ini!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Hapus"}).then(m=>{m.isConfirmed&&(g.Inertia.get(`/admin/question-titles/${l.questionTitle.id}/delete-question`),b.fire({title:"Deleted!",text:"Seluruh Soal Berhasil Dihapus!.",icon:"success",timer:1e3,showConfirmButton:!1}))})},wrapLatexInText:N}},computed:{processedQuestions(){return this.questions.data.map(l=>({...l,question:this.wrapLatexInText(l.question),option_1:this.wrapLatexInText(l.option_1),option_2:this.wrapLatexInText(l.option_2),option_3:this.wrapLatexInText(l.option_3),option_4:this.wrapLatexInText(l.option_4),option_5:this.wrapLatexInText(l.option_5),option_6:this.wrapLatexInText(l.option_6)}))}},watch:{questions:{handler(){this.$nextTick(()=>{window.MathJax&&window.MathJax.Hub&&window.MathJax.Hub.Queue(["Typeset",window.MathJax.Hub])})},deep:!0}}},G={class:"page-wrapper"},U={class:"page-content"},z={class:"card border-top border-0 border-3 border-primary"},R={class:"card-body"},O={class:"d-lg-flex align-items-center mb-4 gap-3"},Y={class:"ms-auto"},X={class:"table-responsive"},W={class:"table mb-0"},Z={class:"badge bg-primary"},$={key:0},tt={class:"badge bg-success"},et={key:1},nt={key:0},st={key:1},it={key:2},ot={key:3},at={key:0,class:"alert alert-success border-0 bg-success alert-dismissible fade show py-2"},lt={class:"d-flex align-items-center"},rt={class:"ms-3"},dt={class:"text-white"},ut={key:1,class:"alert alert-danger border-0 bg-danger alert-dismissible fade show py-2"},mt={class:"d-flex align-items-center"},bt={class:"ms-3"},ct={class:"text-white"},pt={class:"card"},gt={class:"card-body"},ht={class:"d-lg-flex align-items-center gap-3"},_t={class:"ms-auto"},ft=["href"],xt=["href"],Tt={class:"btn-group me-2"},yt={key:2,class:"card"},kt={class:"card-body"},wt={class:"d-lg-flex align-items-center gap-3"},vt={class:"ms-auto"},Ht={class:"card border-top border-0 border-3 border-primary"},Lt={class:"card-body"},Mt={class:"d-lg-flex align-items-center mb-4 gap-3"},St={class:"position-relative"},Bt={class:"ms-auto"},qt={class:"table mb-0"},Ct={id:"elementId"},It={key:0},At={controls:""},Jt=["src"],Dt=["src"],Pt=["innerHTML"],Qt={key:1,type:"A"},jt=["innerHTML"],Kt=["innerHTML"],Et=["innerHTML"],Nt=["innerHTML"],Vt=["innerHTML"],Ft=["innerHTML"],Gt={key:2,type:"A"},Ut=["innerHTML"],zt=["innerHTML"],Rt=["innerHTML"],Ot=["innerHTML"],Yt=["innerHTML"],Xt=["innerHTML"],Wt={key:3,class:"badge rounded-pill text-primary bg-light-primary p-2 text-uppercase"},Zt={class:"d-flex order-actions"},$t=["onClick"],te={key:0,align:"center",colspan:"3"};function ee(l,e,s,r,T,k){var u,m;const w=y("Head"),f=y("Link"),v=y("Pagination");return o(),i(M,null,[_(w,null,{default:x(()=>{var n;return[t("title",null,`
            `+d((n=l.$page.props.setting.app_name)!=null?n:"Atur Setting Terlebih Dahulu")+`
            - Data Soal
        `,1)]}),_:1}),t("div",G,[t("div",U,[e[46]||(e[46]=H('<div class="page-breadcrumb d-none d-sm-flex align-items-center mb-3"><div class="breadcrumb-title pe-3">Soal</div><div class="ps-3"><nav aria-label="breadcrumb"><ol class="breadcrumb mb-0 p-0"><li class="breadcrumb-item"><a href="javascript:;"><i class="bx bx-home-alt"></i></a></li><li class="breadcrumb-item active" aria-current="page"> Data Soal </li></ol></nav></div></div>',1)),t("div",z,[t("div",R,[t("div",O,[t("a",{href:"#",onClick:e[0]||(e[0]=p(n=>r.destroyQuestionTitle(s.questionTitle.id),["prevent"])),class:"btn btn-danger btn-sm mt-2 mt-lg-0"},"Hapus Judul & Soal"),t("div",Y,[_(f,{href:"/admin/question-titles",class:"btn btn-primary btn-sm mt-2 mt-lg-0 ms-1"},{default:x(()=>e[8]||(e[8]=[c("Kembali")])),_:1})])]),t("div",X,[t("table",W,[t("tbody",null,[t("tr",null,[e[9]||(e[9]=t("th",{width:"170px"},"Peminatan",-1)),e[10]||(e[10]=t("td",{width:"10px"},":",-1)),t("td",null,[t("span",Z,d((u=s.questionTitle.category&&s.questionTitle.category.name)!=null?u:"-"),1)])]),t("tr",null,[e[11]||(e[11]=t("th",null,"Kategori Mata Pelajaran",-1)),e[12]||(e[12]=t("td",null,":",-1)),t("td",null,d(s.questionTitle.lesson_category.name),1)]),t("tr",null,[e[13]||(e[13]=t("th",null,"Mata Pelajaran",-1)),e[14]||(e[14]=t("td",null,":",-1)),t("td",null,d(s.questionTitle.lesson.name),1)]),t("tr",null,[e[15]||(e[15]=t("th",null,"Judul Soal",-1)),e[16]||(e[16]=t("td",null,":",-1)),t("td",null,d(s.questionTitle.name),1)]),t("tr",null,[e[17]||(e[17]=t("th",null,"Jumlah Pilihan Ganda",-1)),e[18]||(e[18]=t("td",null,":",-1)),t("td",null,d(s.questionTitle.total_choices),1)]),t("tr",null,[e[19]||(e[19]=t("th",null,"Total Bagian",-1)),e[20]||(e[20]=t("td",null,":",-1)),t("td",null,d(s.questionTitle.total_section),1)]),s.questionTitle.passing_grade?(o(),i("tr",$,[e[21]||(e[21]=t("th",null,"Nilai Ambang Batas",-1)),e[22]||(e[22]=t("td",null,":",-1)),t("td",null,d((m=s.questionTitle.passing_grade)!=null?m:"-"),1)])):a("",!0),t("tr",null,[e[23]||(e[23]=t("th",null,"Tambahkan Kategori Penilaian",-1)),e[24]||(e[24]=t("td",null,":",-1)),t("td",null,[t("span",tt,d(s.questionTitle.add_value_category==0?"Tidak":"Ya"),1)])]),s.questionTitle.add_value_category==1?(o(),i("tr",et,[e[25]||(e[25]=t("th",null,"Jenis Penilaian",-1)),e[26]||(e[26]=t("td",null,":",-1)),t("td",null,[s.questionTitle.assessment_type==1?(o(),i("span",nt,"Dihitung Per Kategori Penilaian")):a("",!0),s.questionTitle.assessment_type==2?(o(),i("span",st,"Dihitung Untuk Seluruh Soal (Rata-rata)")):a("",!0),s.questionTitle.assessment_type==3?(o(),i("span",it,"Dihitung Berdasarkan Poin Jawaban Benar")):a("",!0),s.questionTitle.assessment_type==4?(o(),i("span",ot,"Dihitung Berdasarkan Bobot Jawaban")):a("",!0)])])):a("",!0)])])])])]),l.$page.props.session.success?(o(),i("div",at,[t("div",lt,[e[28]||(e[28]=t("div",{class:"font-35 text-white"},[t("i",{class:"bx bxs-check-circle"})],-1)),t("div",rt,[e[27]||(e[27]=t("h6",{class:"mb-0 text-white"},"Sukses",-1)),t("div",dt,d(l.$page.props.session.success),1)])]),e[29]||(e[29]=t("button",{type:"button",class:"btn-close","data-bs-dismiss":"alert","aria-label":"Close"},null,-1))])):a("",!0),l.$page.props.session.failed?(o(),i("div",ut,[t("div",mt,[e[31]||(e[31]=t("div",{class:"font-35 text-white"},[t("i",{class:"bx bxs-message-square-x"})],-1)),t("div",bt,[e[30]||(e[30]=t("h6",{class:"mb-0 text-white"},"Gagal",-1)),t("div",ct,d(l.$page.props.session.failed),1)])]),e[32]||(e[32]=t("button",{type:"button",class:"btn-close","data-bs-dismiss":"alert","aria-label":"Close"},null,-1))])):a("",!0),t("div",pt,[t("div",gt,[t("div",ht,[t("div",_t,[t("a",{target:"_blank",href:`/admin/question-titles/${s.questionTitle.id}/export-excel`,class:"btn btn-sm btn-success mt-lg-0"},e[33]||(e[33]=[t("i",{class:"bx bxs-file"},null,-1),c(" Export Soal")]),8,ft)]),t("a",{target:"_blank",href:`/admin/question-titles/${s.questionTitle.id}/format-import-excel`,class:"btn btn-sm btn-primary"},e[34]||(e[34]=[t("i",{class:"bx bxs-file"},null,-1),c(" Template Import Soal ")]),8,xt),t("form",{onSubmit:e[2]||(e[2]=p((...n)=>r.importExcel&&r.importExcel(...n),["prevent"])),class:"d-flex ml-auto"},[t("div",Tt,[t("input",{type:"file",onInput:e[1]||(e[1]=n=>r.form.file=n.target.files[0]),class:"form-control form-control-sm me-2",required:""},null,32)]),e[35]||(e[35]=t("div",{class:"btn-group"},[t("button",{type:"submit",class:"btn btn-danger btn-sm"},[t("i",{class:"bx bxs-file"}),c(" Import Soal ")])],-1))],32)])])]),s.questions.data.length?a("",!0):(o(),i("div",yt,[t("div",kt,[t("div",wt,[t("div",vt,[t("form",{onSubmit:e[4]||(e[4]=p((...n)=>r.generateQuestion&&r.generateQuestion(...n),["prevent"])),class:"d-flex ml-auto"},[L(t("select",{class:"form-control me-2","onUpdate:modelValue":e[3]||(e[3]=n=>r.form.type=n)},e[36]||(e[36]=[H('<option value="number">Angka Hilang</option><option value="letter">Huruf Hilang</option><option value="symbol"> Simbol Hilang </option><option value="number_letter"> Kombinasi Angka &amp; Huruf Hilang </option><option value="number_symbol"> Kombinasi Angka &amp; Simbol Hilang </option><option value="letter_symbol"> Kombinasi Huruf &amp; Simbol Hilang </option><option value="number_letter_symbol"> Kombinasi Angka, Huruf &amp; Simbol Hilang </option>',7)]),512),[[j,r.form.type]]),e[37]||(e[37]=t("button",{type:"submit",class:"btn btn-danger"}," Generate ",-1))],32)])])])])),t("div",Ht,[t("div",Lt,[t("div",Mt,[t("form",{onSubmit:e[6]||(e[6]=p((...n)=>r.handleSearch&&r.handleSearch(...n),["prevent"]))},[t("div",St,[L(t("input",{type:"text","onUpdate:modelValue":e[5]||(e[5]=n=>r.search=n),class:"form-control ps-5 radius-20",placeholder:"Cari Berdasarkan Soal....",size:"40",maxlength:"100"},null,512),[[K,r.search]]),e[38]||(e[38]=t("span",{class:"position-absolute top-50 product-show translate-middle-y"},[t("i",{class:"bx bx-search"})],-1))])],32),t("div",Bt,[t("a",{href:"#",onClick:e[7]||(e[7]=p(n=>r.destroyAllQuestion(s.questionTitle.id),["prevent"])),class:"btn btn-danger btn-sm"},e[39]||(e[39]=[t("i",{class:"bx bx-trash"},null,-1),c(" Hapus Semua Soal")])),_(f,{href:`/admin/question-titles/${s.questionTitle.id}/questions/create`,class:"btn btn-sm btn-primary m-2"},{default:x(()=>e[40]||(e[40]=[t("i",{class:"bx bxs-plus-square"},null,-1),c(" Tambah Soal")])),_:1},8,["href"])])]),t("table",qt,[t("div",Ct,[e[45]||(e[45]=t("thead",{class:"table-light"},[t("tr",null,[t("th",{class:"border-0 rounded-start",style:{width:"5%"}}," No. "),t("th",{class:"border-0",style:{width:"85%"}}," Soal "),t("th",{class:"border-0 rounded-end",style:{width:"10%"}}," Aksi ")])],-1)),t("tbody",null,[(o(!0),i(M,null,E(k.processedQuestions,(n,S)=>(o(),i("tr",{key:n.id},[t("td",null,d(++S+(s.questions.current_page-1)*s.questions.per_page),1),t("td",null,[n.audio_input==1&&n.audio?(o(),i("div",It,[t("audio",At,[t("source",{src:"/storage/upload_files/questions/audio/"+n.audio,type:"audio/ogg"},null,8,Jt),t("source",{src:"/storage/upload_files/questions/audio/"+n.audio,type:"audio/mpeg"},null,8,Dt),e[41]||(e[41]=c(" Your browser does not support the audio element. "))])])):a("",!0),t("div",{innerHTML:n.question,class:"clearfix"},null,8,Pt),e[42]||(e[42]=t("br",null,null,-1)),s.questionTitle.assessment_type==4?(o(),i("ol",Qt,[1<=s.questionTitle.total_choices?(o(),i("li",{key:0,innerHTML:r.wrapLatexInText(`<span class='badge bg-danger'>point ${n.point_1}</span> <br>${n.option_1}`)},null,8,jt)):a("",!0),2<=s.questionTitle.total_choices?(o(),i("li",{key:1,innerHTML:r.wrapLatexInText(`<span class='badge bg-danger'>point ${n.point_2}</span> <br>${n.option_2}`)},null,8,Kt)):a("",!0),3<=s.questionTitle.total_choices?(o(),i("li",{key:2,innerHTML:r.wrapLatexInText(`<span class='badge bg-danger'>point ${n.point_3}</span> <br>${n.option_3}`)},null,8,Et)):a("",!0),4<=s.questionTitle.total_choices?(o(),i("li",{key:3,innerHTML:r.wrapLatexInText(`<span class='badge bg-danger'>point ${n.point_4}</span> <br>${n.option_4}`)},null,8,Nt)):a("",!0),5<=s.questionTitle.total_choices?(o(),i("li",{key:4,innerHTML:r.wrapLatexInText(`<span class='badge bg-danger'>point ${n.point_5}</span> <br>${n.option_5}`)},null,8,Vt)):a("",!0),6<=s.questionTitle.total_choices?(o(),i("li",{key:5,innerHTML:r.wrapLatexInText(`<span class='badge bg-danger'>point ${n.point_6}</span> <br>${n.option_6}`)},null,8,Ft)):a("",!0)])):(o(),i("ol",Gt,[1<=s.questionTitle.total_choices?(o(),i("li",{key:0,innerHTML:n.option_1,class:h({"text-danger fw-bold":n.answer==1})},null,10,Ut)):a("",!0),2<=s.questionTitle.total_choices?(o(),i("li",{key:1,innerHTML:n.option_2,class:h({"text-danger fw-bold":n.answer==2})},null,10,zt)):a("",!0),3<=s.questionTitle.total_choices?(o(),i("li",{key:2,innerHTML:n.option_3,class:h({"text-danger fw-bold":n.answer==3})},null,10,Rt)):a("",!0),4<=s.questionTitle.total_choices?(o(),i("li",{key:3,innerHTML:n.option_4,class:h({"text-danger fw-bold":n.answer==4})},null,10,Ot)):a("",!0),5<=s.questionTitle.total_choices?(o(),i("li",{key:4,innerHTML:n.option_5,class:h({"text-danger fw-bold":n.answer==5})},null,10,Yt)):a("",!0),6<=s.questionTitle.total_choices?(o(),i("li",{key:5,innerHTML:n.option_6,class:h({"text-danger fw-bold":n.answer==6})},null,10,Xt)):a("",!0)])),n.value_category?(o(),i("div",Wt,d(n.value_category.name),1)):a("",!0)]),t("td",null,[t("div",Zt,[_(f,{href:`/admin/question-titles/${s.questionTitle.id}/questions/${n.id}/edit`,class:"ms-1"},{default:x(()=>e[43]||(e[43]=[t("i",{class:"bx bxs-edit"},null,-1)])),_:2},1032,["href"]),t("a",{href:"#",onClick:p(ne=>r.destroy(n.id),["prevent"]),class:"ms-1"},e[44]||(e[44]=[t("i",{class:"bx bxs-trash"},null,-1)]),8,$t)])])]))),128)),t("tr",null,[s.questions.data.length?a("",!0):(o(),i("td",te," Data Tidak Tersedia "))])])])]),_(v,{links:s.questions.links,align:"end"},null,8,["links"])])])])])],64)}const ue=V(F,[["render",ee]]);export{ue as default};
