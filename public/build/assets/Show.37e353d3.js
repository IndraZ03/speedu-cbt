import{L}from"./Layout.db7d06d0.js";import{L as P,H as _,c as s,a as g,w as y,b as t,d as K,t as e,F as m,r as x,k as S,g as w,e as r,h as p,f as k,o as i}from"./app.c4f63ac8.js";import{P as D}from"./Pagination.9e48f65e.js";import{S as b}from"./sweetalert2.esm.all.08ba7c87.js";import{_ as A}from"./_plugin-vue_export-helper.cdc0426e.js";const M={layout:L,components:{Link:P,Head:_,Pagination:D},props:{exam:Object,rankingExams:Object},setup(d){return{destroy:o=>{b.fire({title:"Apakah Anda yakin?",text:"Anda tidak akan dapat mengembalikan ini!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Hapus"}).then(f=>{f.isConfirmed&&(p.Inertia.delete(`/admin/exams/grades/${o}/destroy`),b.fire({title:"Deleted!",text:"Nilai Berhasil Dihapus!.",icon:"success",timer:1e3,showConfirmButton:!1}))})},regenerateCode:()=>{b.fire({title:"Generarate Kode Baru !",text:"Apakah Anda Yakin Akan Generate Kode Baru ?",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Generate Kode"}).then(o=>{o.isConfirmed&&(p.Inertia.get(`/admin/exams/${d.exam.id}/regenerate-block-tokens`),b.fire({title:"Success!",text:"Kode Berhasil Diperbarui.",icon:"success",timer:1e3,showConfirmButton:!1}))})}}},methods:{formatPrice(d){return"Rp."+(d/1).toFixed(2).replace(".",",").toString().replace(/\B(?=(\d{3})+(?!\d))/g,".")}}},N={class:"page-wrapper"},h={class:"page-content"},H={class:"card border-top border-0 border-3 border-primary"},Y={class:"card-body"},j={class:"d-lg-flex align-items-center"},q={class:"ms-auto"},V={class:"table mb-0"},F={key:0},G={class:"badge bg-danger ms-1"},I={key:1},J={class:"badge bg-success m-1"},O={key:1,class:"badge bg-danger"},R=["innerHTML"],E={key:0},U={class:"input-group"},z=["value"],Q={key:1},W={key:2},X={key:0,class:"badge bg-primary"},Z={key:1,class:"badge bg-success"},c={key:2,class:"badge bg-danger"},$={class:"card border-top border-0 border-3 border-primary"},tt={class:"card-header"},nt={class:"d-flex justify-content-between"},lt={class:"text-end"},et=["href"],at=["href"],st={class:"card-body"},it={class:"table-responsive"},rt={class:"table mb-0"},ot={key:0,align:"center",colspan:"7"},dt={class:"badge bg-danger"},ut={class:"d-flex order-actions"},mt=["onClick"];function bt(d,n,l,o,f,v){const T=k("Head"),B=k("Link"),C=k("Pagination");return i(),s(m,null,[g(T,null,{default:y(()=>{var a;return[t("title",null,e((a=d.$page.props.setting.app_name)!=null?a:"Atur Setting Terlebih Dahulu")+" - Latihan Soal",1)]}),_:1}),t("div",N,[t("div",h,[n[56]||(n[56]=K('<div class="page-breadcrumb d-none d-sm-flex align-items-center mb-3"><div class="breadcrumb-title pe-3">Latihan Soal</div><div class="ps-3"><nav aria-label="breadcrumb"><ol class="breadcrumb mb-0 p-0"><li class="breadcrumb-item"><a href="javascript:;"><i class="bx bx-home-alt"></i></a></li><li class="breadcrumb-item active" aria-current="page">Detail Latihan Soal</li></ol></nav></div></div>',1)),t("div",H,[t("div",Y,[t("div",j,[t("div",q,[g(B,{href:"/admin/exams",class:"btn btn-primary btn-sm mt-2 mt-lg-0"},{default:y(()=>n[1]||(n[1]=[w("Kembali")])),_:1,__:[1]})])]),t("table",V,[t("tbody",null,[t("tr",null,[n[2]||(n[2]=t("th",{width:"350px"},"Kategori",-1)),n[3]||(n[3]=t("td",{width:"10px"},":",-1)),t("td",null,e(l.exam.category.name),1)]),t("tr",null,[n[5]||(n[5]=t("th",null,"Sub Peminatan",-1)),n[6]||(n[6]=t("td",null,":",-1)),t("td",null,[l.exam.sub_categories.length?(i(),s("div",F,[(i(!0),s(m,null,x(l.exam.sub_categories,(a,u)=>(i(),s("div",{key:u,style:{display:"inline"}},[t("span",G,e(a.name),1)]))),128))])):(i(),s("div",I,n[4]||(n[4]=[t("span",null,"Seluruh kategori peminatan",-1)])))])]),t("tr",null,[n[7]||(n[7]=t("th",null,"Kategori Member",-1)),n[8]||(n[8]=t("td",null,":",-1)),t("td",null,[l.exam.member_categories?(i(!0),s(m,{key:0},x(l.exam.member_categories,a=>(i(),s("span",J,e(a),1))),256)):(i(),s("span",O,"Untuk Seluruh Kategori Member"))])]),t("tr",null,[n[9]||(n[9]=t("th",null,"Kategori Mata Pelajaran",-1)),n[10]||(n[10]=t("td",null,":",-1)),t("td",null,e(l.exam.lesson_category.name),1)]),t("tr",null,[n[11]||(n[11]=t("th",null,"Mata Pelajaran",-1)),n[12]||(n[12]=t("td",null,":",-1)),t("td",null,e(l.exam.lesson.name),1)]),t("tr",null,[n[13]||(n[13]=t("th",null,"Paket Soal",-1)),n[14]||(n[14]=t("td",null,":",-1)),t("td",null,e(l.exam.question_title.name),1)]),t("tr",null,[n[15]||(n[15]=t("th",null,"Judul Latihan Soal",-1)),n[16]||(n[16]=t("td",null,":",-1)),t("td",null,e(l.exam.title),1)]),t("tr",null,[n[17]||(n[17]=t("th",null,"Durasi",-1)),n[18]||(n[18]=t("td",null,":",-1)),t("td",null,e(l.exam.duration)+" Menit",1)]),t("tr",null,[n[19]||(n[19]=t("th",null,"Deskripsi",-1)),n[20]||(n[20]=t("td",null,":",-1)),t("td",null,[t("div",{innerHTML:l.exam.description},null,8,R)])]),t("tr",null,[n[21]||(n[21]=t("th",null,"Soal Acak",-1)),n[22]||(n[22]=t("td",null,":",-1)),t("td",null,e(l.exam.random_question==1?"Ya":"Tidak"),1)]),t("tr",null,[n[23]||(n[23]=t("th",null,"Jawaban Acak",-1)),n[24]||(n[24]=t("td",null,":",-1)),t("td",null,e(l.exam.random_answer==1?"Ya":"Tidak"),1)]),t("tr",null,[n[25]||(n[25]=t("th",null,"Tampilkan Jawaban",-1)),n[26]||(n[26]=t("td",null,":",-1)),t("td",null,e(l.exam.show_answer==1?"Ya":"Tidak"),1)]),t("tr",null,[n[27]||(n[27]=t("th",null,"Tampilkan Navigasi Nomor Soal",-1)),n[28]||(n[28]=t("td",null,":",-1)),t("td",null,e(l.exam.show_question_number_navigation==1?"Ya":"Tidak"),1)]),t("tr",null,[n[29]||(n[29]=t("th",null,"Tampilkan Nomor Soal",-1)),n[30]||(n[30]=t("td",null,":",-1)),t("td",null,e(l.exam.show_question_number==1?"Ya":"Tidak"),1)]),t("tr",null,[n[31]||(n[31]=t("th",null,"Pertanyaan Berikutnya Secara Otomatis",-1)),n[32]||(n[32]=t("td",null,":",-1)),t("td",null,e(l.exam.next_question_automatically==1?"Ya":"Tidak"),1)]),t("tr",null,[n[33]||(n[33]=t("th",null,"Tampilkan Button Sebelum & Selanjutnya",-1)),n[34]||(n[34]=t("td",null,":",-1)),t("td",null,e(l.exam.show_prev_next_button==1?"Ya":"Tidak"),1)]),t("tr",null,[n[35]||(n[35]=t("th",null,"Tipe Pilihan Ganda",-1)),n[36]||(n[36]=t("td",null,":",-1)),t("td",null,e(l.exam.type_option==1?"Button option dan soal menyatu (Normal)":"Button option ke samping & jawaban menyatu dengan soal"),1)]),t("tr",null,[n[37]||(n[37]=t("th",null,"Siswa Dapat Mengulangi Latihan Soal",-1)),n[38]||(n[38]=t("td",null,":",-1)),t("td",null,e(l.exam.repeat_the_exam==1?"Ya":"Tidak"),1)]),t("tr",null,[n[39]||(n[39]=t("th",null,"Maksimal Toleransi Keluar Tes",-1)),n[40]||(n[40]=t("td",null,":",-1)),t("td",null,e(l.exam.total_tolerance==null?"Tidak ada":l.exam.total_tolerance+" Kali"),1)]),l.exam.total_tolerance!=null?(i(),s("tr",E,[n[42]||(n[42]=t("th",null,"Kode Membuka Blokir",-1)),n[43]||(n[43]=t("td",null,":",-1)),t("td",null,[t("div",U,[t("input",{type:"text",class:"form form-control form-control-sm",value:l.exam.unblock_token,disabled:""},null,8,z),t("a",{href:"#",onClick:n[0]||(n[0]=S(a=>o.regenerateCode(),["prevent"])),class:"btn btn-primary btn-sm"},n[41]||(n[41]=[t("i",{class:"bx bx-refresh"},null,-1),w("Regenerate Kode")]))])])])):r("",!0),t("tr",null,[n[44]||(n[44]=t("th",null,"Tampilkan Koreksi Jawaban & Pembahasan",-1)),n[45]||(n[45]=t("td",null,":",-1)),t("td",null,e(l.exam.show_answer_discussion==1?"Ya":"Tidak"),1)]),l.exam.price_before_discount?(i(),s("tr",Q,[n[46]||(n[46]=t("th",null,"Harga Latihan Soal (Sebelum Diskon)",-1)),n[47]||(n[47]=t("td",null,":",-1)),t("td",null,e(v.formatPrice(l.exam.price_before_discount)),1)])):r("",!0),l.exam.price_after_discount?(i(),s("tr",W,[n[48]||(n[48]=t("th",null,"Harga Latihan Soal (Sesudah Diskon)",-1)),n[49]||(n[49]=t("td",null,":",-1)),t("td",null,e(v.formatPrice(l.exam.price_after_discount)),1)])):r("",!0),t("tr",null,[n[50]||(n[50]=t("th",null,"Status Latihan Soal",-1)),n[51]||(n[51]=t("td",null,":",-1)),t("td",null,[l.exam.exam_status=="active"?(i(),s("span",X,"Active")):r("",!0),l.exam.exam_status=="inactive"?(i(),s("span",Z,"Inactive")):r("",!0),l.exam.exam_status=="inprogress"?(i(),s("span",c,"Inprogress")):r("",!0)])])])])])]),t("div",$,[t("div",tt,[t("div",nt,[n[52]||(n[52]=t("div",{class:"text-start"},[t("h5",{class:"mb-0"},"Hasil Latihan Soal")],-1)),t("div",lt,[t("a",{href:`/admin/exams/${l.exam.id}/export-pdf`,target:"_blank",class:"btn btn-danger btn-sm m-1"},"Export PDF",8,et),t("a",{href:`/admin/exams/${l.exam.id}/export-excel`,target:"_blank",class:"btn btn-success btn-sm m-1"},"Export Excel",8,at)])])]),t("div",st,[t("div",it,[t("table",rt,[n[55]||(n[55]=t("thead",null,[t("tr",null,[t("th",null,"Peringkat"),t("th",null,"Nama"),t("th",null,"Provinsi"),t("th",null,"Kota"),t("th",null,"Status"),t("th",null,"Nilai"),t("th",null,"Action")])],-1)),t("tbody",null,[t("tr",null,[l.rankingExams.data.length?r("",!0):(i(),s("td",ot,"Data Ranking kosong"))]),(i(!0),s(m,null,x(l.rankingExams.data,(a,u)=>(i(),s("tr",{key:u},[t("td",null,[t("span",dt,e(++u+(l.rankingExams.current_page-1)*l.rankingExams.per_page),1)]),t("td",null,e(a.user.name),1),t("td",null,e(a.user.student&&a.user.student.province?a.user.student.province.name:"-"),1),t("td",null,e(a.user.student&&a.user.student.city?a.user.student.city.name:"-"),1),n[54]||(n[54]=t("th",null,[t("span",{class:"badge bg-primary"},"Selesai Mengerjakan")],-1)),t("th",null,e(a.grade),1),t("td",null,[t("div",ut,[t("a",{href:"#",onClick:S(gt=>o.destroy(a.id),["prevent"]),class:"ms-2"},n[53]||(n[53]=[t("i",{class:"bx bxs-trash"},null,-1)]),8,mt)])])]))),128))])]),g(C,{links:l.rankingExams.links,align:"end"},null,8,["links"])])])])])])],64)}const St=A(M,[["render",bt]]);export{St as default};
